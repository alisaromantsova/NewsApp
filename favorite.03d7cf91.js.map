{"mappings":"oeAAA,IAAAA,EAAAC,EAAA,SACA,MAAMC,EAAeC,SAASC,cAAc,cACtCC,EAAQC,KAAKC,MAAMC,aAAaC,QAAQ,aAC9CP,EAAaQ,iBAAiB,SAkB9B,SAAwCC,GACtC,GAA6B,SAAzBC,MAAMC,OAAOC,SAA+C,WAAzBF,MAAMC,OAAOC,QAClD,OAGF,MAAMC,EAAYT,KAAKC,MAAMC,aAAaC,QAAQ,aAC9C,IAAIH,KAAKC,MAAMC,aAAaC,QAAQ,cACpC,GAEEO,EACqB,WAAzBJ,MAAMC,OAAOC,QACTF,MAAMC,OAAOI,WAAWA,WAAWb,cAAc,eACjDQ,MAAMC,OAAOI,WAAWA,WAAWA,WAAWb,cAC5C,eAGR,GAAyB,IAArBW,EAAUG,OAAc,CAC1BV,aAAaW,WAAW,YACxB,MAAMC,EAAkB,GAuBxB,OAtBAL,EAAUM,KAAIC,IACRA,EAAKC,SAASC,SAASR,IAGrBM,GACFF,EAAgBK,KAAK,IAAKH,GAAO,SAKR,IAA3BF,EAAgBF,QAClBV,aAAakB,QAAQ,WAAYpB,KAAKqB,UAAUP,IAChDlB,EAAa0B,UAAY,KACzB1B,EAAa2B,mBACX,aACAT,EACGC,KAAIC,GAAQ,0BAA0BA,EAAKC,mBAC3CO,KAAK,MAGV5B,EAAa0B,WAAY,EAAA5B,EAAA+B,qB,KAxD1B1B,IACHH,EAAa0B,WAAY,EAAA5B,EAAA+B,sBAIrB1B,GACFH,EAAa2B,mBACX,aACAxB,EACGgB,KAAIW,GAAQ,0BAA0BA,EAAKT,mBAC3CO,KAAK,K","sources":["src/js/addtofavorite.js"],"sourcesContent":["import { renderEmptyMarkup } from './fetches';\nconst favoriteList = document.querySelector('.list-news');\nconst cards = JSON.parse(localStorage.getItem('newsCard'));\nfavoriteList.addEventListener('click', onRemoveNewCardToFavoriteClick);\nif (!cards) {\n  favoriteList.innerHTML = renderEmptyMarkup();\n}\n\nfunction renderMarkup() {\n  if (cards) {\n    favoriteList.insertAdjacentHTML(\n      'afterbegin',\n      cards\n        .map(card => `<div class=\"new__card\">${card.newsCard}</div>`)\n        .join('')\n    );\n  }\n}\n\nrenderMarkup();\n\nfunction onRemoveNewCardToFavoriteClick(e) {\n  if (event.target.tagName !== 'SPAN' && event.target.tagName !== 'BUTTON') {\n    return;\n  }\n\n  const arreyCard = JSON.parse(localStorage.getItem('newsCard'))\n    ? [...JSON.parse(localStorage.getItem('newsCard'))]\n    : [];\n\n  const linkNewCArd =\n    event.target.tagName === 'BUTTON'\n      ? event.target.parentNode.parentNode.querySelector('.news__link')\n      : event.target.parentNode.parentNode.parentNode.querySelector(\n          '.news__link'\n        );\n\n  if (arreyCard.length !== 0) {\n    localStorage.removeItem('newsCard');\n    const arreyCardSecond = [];\n    arreyCard.map(item => {\n      if (item.newsCard.includes(linkNewCArd)) {\n        return;\n      } else {\n        if (item) {\n          arreyCardSecond.push({ ...item });\n        }\n      }\n    });\n\n    if (arreyCardSecond.length !== 0) {\n      localStorage.setItem('newsCard', JSON.stringify(arreyCardSecond));\n      favoriteList.innerHTML = null;\n      favoriteList.insertAdjacentHTML(\n        'afterbegin',\n        arreyCardSecond\n          .map(item => `<div class=\"new__card\">${item.newsCard}</div>`)\n          .join('')\n      );\n    } else {\n      favoriteList.innerHTML = renderEmptyMarkup();\n    }\n    return;\n  }\n}\n"],"names":["$drJjU","parcelRequire","$23c5e8ae529a0de1$var$favoriteList","document","querySelector","$23c5e8ae529a0de1$var$cards","JSON","parse","localStorage","getItem","addEventListener","e","event","target","tagName","arreyCard","linkNewCArd","parentNode","length","removeItem","arreyCardSecond","map","item","newsCard","includes","push","setItem","stringify","innerHTML","insertAdjacentHTML","join","renderEmptyMarkup","card"],"version":3,"file":"favorite.03d7cf91.js.map"}