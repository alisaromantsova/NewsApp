{"mappings":"4iBAAA,IAAAA,EAAAC,EAAA,S,0BCAMC,GAANC,EAAAF,EAAA,SAAyBG,SAASC,cAAc,UAUzC,SAASC,EAAcC,GAC5B,IAAMC,EAAgBC,KAAKC,MAAMC,aAAaC,QAAQ,iBACjDC,EAAAV,EAAA,CAAGM,KAAKC,MAAMC,aAAaC,QAAQ,kBACpC,GAEJ,GAA6B,MAAzBL,EAAMO,OAAOC,QAAjB,CAIA,IAAMC,EAAkBT,EAAMO,OAC3BG,QAAQ,cACRZ,cAAc,eAEba,EAAmBX,EAAMO,OAAOG,QAAQ,cAAcE,UAc1D,GAb6B,IAAzBX,EAAcY,QAChBZ,EAAca,KAAI,SAAAC,GAChB,GAAIA,EAAKJ,iBAAiBK,SAASP,GAEjC,OADAE,EAAmB,MACZ,C,IASTA,EAAkB,CACpB,IAAMM,EAAQ,IAAIC,KACZC,EAAMC,OAAOH,EAAMI,WAAWC,SAAS,EAAG,KAC1CC,EAAQH,OAAOH,EAAMO,WAAa,GAAGF,SAAS,EAAG,KACjDG,EAAOR,EAAMS,cAEbC,EAAc,GAAWC,OAARH,EAAK,KAAYG,OAATL,EAAM,KAAOK,OAAJT,GACxClB,EAAc4B,KAAK,CAAElB,mBAAkBgB,gBACvCvB,aAAa0B,QAAQ,eAAgB5B,KAAK6B,UAAU9B,G,CA7BpD,C,CAd2B,gBAA7B+B,OAAOC,SAASC,UACa,cAA7BF,OAAOC,SAASC,UACa,MAA7BF,OAAOC,SAASC,UACa,wBAA7BF,OAAOC,SAASC,UAEhBvC,EAAiBwC,iBAAiB,QAASpC,G,iBDJvCqC,EAAevC,SAASC,cAAc,cACtCuC,EAAQnC,KAAKC,MAAMC,aAAaC,QAAQ,aAC9C+B,EAAaD,iBAAiB,SAiB9B,SAAwCnC,GAEtC,GADAD,EAAcC,GAEa,SAAzBA,EAAMO,OAAOC,SACY,WAAzBR,EAAMO,OAAOC,SACY,QAAzBR,EAAMO,OAAOC,SACY,SAAzBR,EAAMO,OAAOC,SACY,QAAzBR,EAAMO,OAAOC,QAEb,OAEF,IAAM8B,EAAYpC,KAAKC,MAAMC,aAAaC,QAAQ,aAC7CC,EAAAV,EAAA,CAAGM,KAAKC,MAAMC,aAAaC,QAAQ,cACpC,GAEEI,EAAkBT,EAAMO,OAC3BG,QAAQ,cACRZ,cAAc,eAEjB,GAAyB,IAArBwC,EAAUzB,OAAc,CAC1BT,aAAamC,WAAW,YACxB,IAAMC,EAAkB,GAwBxB,OAvBAF,EAAUxB,KAAI,SAAAC,GACRA,EAAK0B,SAASzB,SAASP,IAGrBM,GACFyB,EAAgBX,KAAKvB,EAAAb,EAAA,IAAKsB,G,SAKD,IAA3ByB,EAAgB3B,QAClBT,aAAa0B,QAAQ,WAAY5B,KAAK6B,UAAUS,IAChDJ,EAAaxB,UAAY,KACzBwB,EAAaM,mBACX,aACAF,EACG1B,KAAI,SAAAC,G,MAAQ,yBAAuCa,OAAdb,EAAK0B,SAAS,Q,IACnDE,KAAK,MAEV,EAAAC,EAAAC,sBAEAT,EAAaxB,WAAY,EAAAkC,EAAAC,qB,KA3D1BV,IACHD,EAAaxB,WAAY,EAAAkC,EAAAC,sBAIrBV,GACFD,EAAaM,mBACX,aACAL,EAAMvB,KAAI,SAAAkC,G,MAAQ,yBAAuCpB,OAAdoB,EAAKP,SAAS,Q,IAAQE,KAAK,MAG1E,EAAAC,EAAAC,qB","sources":["src/js/addtofavorite.js","src/js/addtoread.js"],"sourcesContent":["import { renderEmptyMarkup } from './fetches';\nimport { readMoreClick } from './addtoread';\nimport { setEventAfterRead } from './news-card';\nconst favoriteList = document.querySelector('.list-news');\nconst cards = JSON.parse(localStorage.getItem('newsCard'));\nfavoriteList.addEventListener('click', onRemoveNewCardToFavoriteClick);\nif (!cards) {\n  favoriteList.innerHTML = renderEmptyMarkup();\n}\n\nfunction renderMarkup() {\n  if (cards) {\n    favoriteList.insertAdjacentHTML(\n      'afterbegin',\n      cards.map(card => `<li class=\"new__card\">${card.newsCard}</li>`).join('')\n    );\n  }\n  setEventAfterRead();\n}\n\nrenderMarkup();\n\nfunction onRemoveNewCardToFavoriteClick(event) {\n  readMoreClick(event);\n  if (\n    event.target.tagName !== 'SPAN' &&\n    event.target.tagName !== 'BUTTON' &&\n    event.target.tagName !== 'svg' &&\n    event.target.tagName !== 'path' &&\n    event.target.tagName !== 'use'\n  ) {\n    return;\n  }\n  const arreyCard = JSON.parse(localStorage.getItem('newsCard'))\n    ? [...JSON.parse(localStorage.getItem('newsCard'))]\n    : [];\n\n  const linkNewReadCard = event.target\n    .closest('.new__card')\n    .querySelector('.news__link');\n\n  if (arreyCard.length !== 0) {\n    localStorage.removeItem('newsCard');\n    const arreyCardSecond = [];\n    arreyCard.map(item => {\n      if (item.newsCard.includes(linkNewReadCard)) {\n        return;\n      } else {\n        if (item) {\n          arreyCardSecond.push({ ...item });\n        }\n      }\n    });\n\n    if (arreyCardSecond.length !== 0) {\n      localStorage.setItem('newsCard', JSON.stringify(arreyCardSecond));\n      favoriteList.innerHTML = null;\n      favoriteList.insertAdjacentHTML(\n        'afterbegin',\n        arreyCardSecond\n          .map(item => `<li class=\"new__card\">${item.newsCard}</li>`)\n          .join('')\n      );\n      setEventAfterRead();\n    } else {\n      favoriteList.innerHTML = renderEmptyMarkup();\n    }\n    return;\n  }\n}\n","const linkReadMoreNews = document.querySelector('.news');\nif (\n  window.location.pathname === '/index.html' ||\n  window.location.pathname === '/NewsApp/' ||\n  window.location.pathname === '/' ||\n  window.location.pathname === '/NewsApp/index.html'\n) {\n  linkReadMoreNews.addEventListener('click', readMoreClick);\n}\n\nexport function readMoreClick(event) {\n  const arreyReadCard = JSON.parse(localStorage.getItem('newsReadMore'))\n    ? [...JSON.parse(localStorage.getItem('newsReadMore'))]\n    : [];\n\n  if (event.target.tagName !== 'A') {\n    return;\n  }\n\n  const linkNewReadCard = event.target\n    .closest('.new__card')\n    .querySelector('.news__link');\n\n  let newsReadMoreCard = event.target.closest('.new__card').innerHTML;\n  if (arreyReadCard.length !== 0) {\n    arreyReadCard.map(item => {\n      if (item.newsReadMoreCard.includes(linkNewReadCard)) {\n        newsReadMoreCard = null;\n        return false;\n      }\n    });\n  }\n\n  // if (newsReadMoreCard) {\n  //   arreyReadCard.push({ newsReadMoreCard });\n  //   localStorage.setItem('newsReadMore', JSON.stringify(arreyReadCard));\n  // }\n  if (newsReadMoreCard) {\n    const today = new Date();\n    const day = String(today.getDate()).padStart(2, '0');\n    const month = String(today.getMonth() + 1).padStart(2, '0');\n    const year = today.getFullYear();\n\n    const currentDate = `${year}/${month}/${day}`;\n    arreyReadCard.push({ newsReadMoreCard, currentDate });\n    localStorage.setItem('newsReadMore', JSON.stringify(arreyReadCard));\n  }\n}\n"],"names":["$dDDEV","parcelRequire","$de482b6952acadac$var$linkReadMoreNews","$8nrFW","document","querySelector","$de482b6952acadac$export$2709a8fff411b736","event","arreyReadCard","JSON","parse","localStorage","getItem","$parcel$interopDefault","target","tagName","linkNewReadCard","closest","newsReadMoreCard","innerHTML","length","map","item","includes","today","Date","day","String","getDate","padStart","month","getMonth","year","getFullYear","currentDate","concat","push","setItem","stringify","window","location","pathname","addEventListener","$3bf2e0adb7b50f46$var$favoriteList","$3bf2e0adb7b50f46$var$cards","arreyCard","removeItem","arreyCardSecond","newsCard","insertAdjacentHTML","join","$lyUNr","setEventAfterRead","$kjZFx","renderEmptyMarkup","card"],"version":3,"file":"favorite.ff886683.js.map"}