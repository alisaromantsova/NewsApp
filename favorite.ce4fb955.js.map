{"mappings":"+eAAA,IAAAA,EAAAC,EAAA,SCAA,MAAMC,EAAmBC,SAASC,cAAc,SAUzC,SAASC,EAAcC,GAC5B,MAAMC,EAAgBC,KAAKC,MAAMC,aAAaC,QAAQ,iBAClD,IAAIH,KAAKC,MAAMC,aAAaC,QAAQ,kBACpC,GAEJ,GAA6B,MAAzBL,EAAMM,OAAOC,QACf,OAGF,MAAMC,EAAkBR,EAAMM,OAC3BG,QAAQ,cACRX,cAAc,eAEjB,IAAIY,EAAmBV,EAAMM,OAAOG,QAAQ,cAAcE,UAc1D,GAb6B,IAAzBV,EAAcW,QAChBX,EAAcY,KAAIC,IAChB,GAAIA,EAAKJ,iBAAiBK,SAASP,GAEjC,OADAE,EAAmB,MACZ,C,IASTA,EAAkB,CACpB,MAAMM,EAAQ,IAAIC,KACZC,EAAMC,OAAOH,EAAMI,WAAWC,SAAS,EAAG,KAC1CC,EAAQH,OAAOH,EAAMO,WAAa,GAAGF,SAAS,EAAG,KAGjDG,EAAc,GAFPR,EAAMS,iBAEYH,KAASJ,IACxCjB,EAAcyB,KAAK,C,iBAAEhB,E,YAAkBc,IACvCpB,aAAauB,QAAQ,eAAgBzB,KAAK0B,UAAU3B,G,EA3CzB,gBAA7B4B,OAAOC,SAASC,UACa,cAA7BF,OAAOC,SAASC,UACa,MAA7BF,OAAOC,SAASC,UACa,wBAA7BF,OAAOC,SAASC,UAEhBnC,EAAiBoC,iBAAiB,QAASjC,G,iBDJ7C,MAAMkC,EAAepC,SAASC,cAAc,cACtCoC,EAAQhC,KAAKC,MAAMC,aAAaC,QAAQ,aAC9C4B,EAAaD,iBAAiB,SAiB9B,SAAwChC,GAEtC,GADAD,EAAcC,GAEa,SAAzBA,EAAMM,OAAOC,SACY,WAAzBP,EAAMM,OAAOC,SACY,QAAzBP,EAAMM,OAAOC,SACY,SAAzBP,EAAMM,OAAOC,SACY,QAAzBP,EAAMM,OAAOC,QAEb,OAEF,MAAM4B,EAAYjC,KAAKC,MAAMC,aAAaC,QAAQ,aAC9C,IAAIH,KAAKC,MAAMC,aAAaC,QAAQ,cACpC,GAEEG,EAAkBR,EAAMM,OAC3BG,QAAQ,cACRX,cAAc,eAEjB,GAAyB,IAArBqC,EAAUvB,OAAc,CAC1BR,aAAagC,WAAW,YACxB,MAAMC,EAAkB,GAwBxB,OAvBAF,EAAUtB,KAAIC,IACRA,EAAKwB,SAASvB,SAASP,IAGrBM,GACFuB,EAAgBX,KAAK,IAAKZ,GAAO,SAKR,IAA3BuB,EAAgBzB,QAClBR,aAAauB,QAAQ,WAAYzB,KAAK0B,UAAUS,IAChDJ,EAAatB,UAAY,KACzBsB,EAAaM,mBACX,aACAF,EACGxB,KAAIC,GAAQ,yBAAyBA,EAAKwB,kBAC1CE,KAAK,MAEV,EAAAC,EAAAC,sBAEAT,EAAatB,WAAY,EAAAjB,EAAAiD,qB,KA3D1BT,IACHD,EAAatB,WAAY,EAAAjB,EAAAiD,sBAIrBT,GACFD,EAAaM,mBACX,aACAL,EAAMrB,KAAI+B,GAAQ,yBAAyBA,EAAKN,kBAAiBE,KAAK,MAG1E,EAAAC,EAAAC,qB","sources":["src/js/addtofavorite.js","src/js/addtoread.js"],"sourcesContent":["import { renderEmptyMarkup } from './fetches';\nimport { readMoreClick } from './addtoread';\nimport { setEventAfterRead } from './news-card';\nconst favoriteList = document.querySelector('.list-news');\nconst cards = JSON.parse(localStorage.getItem('newsCard'));\nfavoriteList.addEventListener('click', onRemoveNewCardToFavoriteClick);\nif (!cards) {\n  favoriteList.innerHTML = renderEmptyMarkup();\n}\n\nfunction renderMarkup() {\n  if (cards) {\n    favoriteList.insertAdjacentHTML(\n      'afterbegin',\n      cards.map(card => `<li class=\"new__card\">${card.newsCard}</li>`).join('')\n    );\n  }\n  setEventAfterRead();\n}\n\nrenderMarkup();\n\nfunction onRemoveNewCardToFavoriteClick(event) {\n  readMoreClick(event);\n  if (\n    event.target.tagName !== 'SPAN' &&\n    event.target.tagName !== 'BUTTON' &&\n    event.target.tagName !== 'svg' &&\n    event.target.tagName !== 'path' &&\n    event.target.tagName !== 'use'\n  ) {\n    return;\n  }\n  const arreyCard = JSON.parse(localStorage.getItem('newsCard'))\n    ? [...JSON.parse(localStorage.getItem('newsCard'))]\n    : [];\n\n  const linkNewReadCard = event.target\n    .closest('.new__card')\n    .querySelector('.news__link');\n\n  if (arreyCard.length !== 0) {\n    localStorage.removeItem('newsCard');\n    const arreyCardSecond = [];\n    arreyCard.map(item => {\n      if (item.newsCard.includes(linkNewReadCard)) {\n        return;\n      } else {\n        if (item) {\n          arreyCardSecond.push({ ...item });\n        }\n      }\n    });\n\n    if (arreyCardSecond.length !== 0) {\n      localStorage.setItem('newsCard', JSON.stringify(arreyCardSecond));\n      favoriteList.innerHTML = null;\n      favoriteList.insertAdjacentHTML(\n        'afterbegin',\n        arreyCardSecond\n          .map(item => `<li class=\"new__card\">${item.newsCard}</li>`)\n          .join('')\n      );\n      setEventAfterRead();\n    } else {\n      favoriteList.innerHTML = renderEmptyMarkup();\n    }\n    return;\n  }\n}\n","const linkReadMoreNews = document.querySelector('.news');\nif (\n  window.location.pathname === '/index.html' ||\n  window.location.pathname === '/NewsApp/' ||\n  window.location.pathname === '/' ||\n  window.location.pathname === '/NewsApp/index.html'\n) {\n  linkReadMoreNews.addEventListener('click', readMoreClick);\n}\n\nexport function readMoreClick(event) {\n  const arreyReadCard = JSON.parse(localStorage.getItem('newsReadMore'))\n    ? [...JSON.parse(localStorage.getItem('newsReadMore'))]\n    : [];\n\n  if (event.target.tagName !== 'A') {\n    return;\n  }\n\n  const linkNewReadCard = event.target\n    .closest('.new__card')\n    .querySelector('.news__link');\n\n  let newsReadMoreCard = event.target.closest('.new__card').innerHTML;\n  if (arreyReadCard.length !== 0) {\n    arreyReadCard.map(item => {\n      if (item.newsReadMoreCard.includes(linkNewReadCard)) {\n        newsReadMoreCard = null;\n        return false;\n      }\n    });\n  }\n\n  // if (newsReadMoreCard) {\n  //   arreyReadCard.push({ newsReadMoreCard });\n  //   localStorage.setItem('newsReadMore', JSON.stringify(arreyReadCard));\n  // }\n  if (newsReadMoreCard) {\n    const today = new Date();\n    const day = String(today.getDate()).padStart(2, '0');\n    const month = String(today.getMonth() + 1).padStart(2, '0');\n    const year = today.getFullYear();\n\n    const currentDate = `${year}/${month}/${day}`;\n    arreyReadCard.push({ newsReadMoreCard, currentDate });\n    localStorage.setItem('newsReadMore', JSON.stringify(arreyReadCard));\n  }\n}\n"],"names":["$drJjU","parcelRequire","$b385c2926891d707$var$linkReadMoreNews","document","querySelector","$b385c2926891d707$export$2709a8fff411b736","event","arreyReadCard","JSON","parse","localStorage","getItem","target","tagName","linkNewReadCard","closest","newsReadMoreCard","innerHTML","length","map","item","includes","today","Date","day","String","getDate","padStart","month","getMonth","currentDate","getFullYear","push","setItem","stringify","window","location","pathname","addEventListener","$23c5e8ae529a0de1$var$favoriteList","$23c5e8ae529a0de1$var$cards","arreyCard","removeItem","arreyCardSecond","newsCard","insertAdjacentHTML","join","$1n11p","setEventAfterRead","renderEmptyMarkup","card"],"version":3,"file":"favorite.ce4fb955.js.map"}