{"mappings":"+eAAA,IAAAA,EAAAC,EAAA,SCAA,MAAMC,EAAmBC,SAASC,cAAc,SAWzC,SAASC,EAAcC,GAC5B,MAAMC,EAAgBC,KAAKC,MAAMC,aAAaC,QAAQ,iBAClD,IAAIH,KAAKC,MAAMC,aAAaC,QAAQ,kBACpC,GAEJ,GAA6B,MAAzBL,EAAMM,OAAOC,QACf,OAGF,MAAMC,EAAkBR,EAAMM,OAC3BG,QAAQ,cACRX,cAAc,eAEjB,IAAIY,EAAmBV,EAAMM,OAAOG,QAAQ,cAAcE,UAC7B,IAAzBV,EAAcW,QAChBX,EAAcY,KAAIC,IAChB,GAAIA,EAAKJ,iBAAiBK,SAASP,GAEjC,OADAE,EAAmB,MACZ,C,IAKTA,IACFT,EAAce,KAAK,C,iBAAEN,IACrBN,aAAaa,QAAQ,eAAgBf,KAAKgB,UAAUjB,I,CAlCzB,gBAA7BkB,OAAOC,SAASC,UACa,cAA7BF,OAAOC,SAASC,UACa,MAA7BF,OAAOC,SAASC,UACa,wBAA7BF,OAAOC,SAASC,UAElBzB,EAAiB0B,iBAAiB,QAASvB,G,iBDJ3C,MAAMwB,EAAe1B,SAASC,cAAc,cACtC0B,EAAQtB,KAAKC,MAAMC,aAAaC,QAAQ,aAC9CkB,EAAaD,iBAAiB,SAiB9B,SAAwCtB,GAEtC,GADAD,EAAcC,GAEa,SAAzBA,EAAMM,OAAOC,SACY,WAAzBP,EAAMM,OAAOC,SACY,QAAzBP,EAAMM,OAAOC,SACY,SAAzBP,EAAMM,OAAOC,SACY,QAAzBP,EAAMM,OAAOC,QAEb,OAEF,MAAMkB,EAAYvB,KAAKC,MAAMC,aAAaC,QAAQ,aAC9C,IAAIH,KAAKC,MAAMC,aAAaC,QAAQ,cACpC,GAEEG,EAAkBR,EAAMM,OAC3BG,QAAQ,cACRX,cAAc,eAEjB,GAAyB,IAArB2B,EAAUb,OAAc,CAC1BR,aAAasB,WAAW,YACxB,MAAMC,EAAkB,GAwBxB,OAvBAF,EAAUZ,KAAIC,IACRA,EAAKc,SAASb,SAASP,IAGrBM,GACFa,EAAgBX,KAAK,IAAKF,GAAO,SAKR,IAA3Ba,EAAgBf,QAClBR,aAAaa,QAAQ,WAAYf,KAAKgB,UAAUS,IAChDJ,EAAaZ,UAAY,KACzBY,EAAaM,mBACX,aACAF,EACGd,KAAIC,GAAQ,yBAAyBA,EAAKc,kBAC1CE,KAAK,MAEV,EAAAC,EAAAC,sBAEAT,EAAaZ,WAAY,EAAAjB,EAAAuC,qB,KA3D1BT,IACHD,EAAaZ,WAAY,EAAAjB,EAAAuC,sBAIrBT,GACFD,EAAaM,mBACX,aACAL,EAAMX,KAAIqB,GAAQ,yBAAyBA,EAAKN,kBAAiBE,KAAK,MAG1E,EAAAC,EAAAC,qB","sources":["src/js/addtofavorite.js","src/js/addtoread.js"],"sourcesContent":["import { renderEmptyMarkup } from './fetches';\nimport { readMoreClick } from './addtoread';\nimport { setEventAfterRead } from './news-card';\nconst favoriteList = document.querySelector('.list-news');\nconst cards = JSON.parse(localStorage.getItem('newsCard'));\nfavoriteList.addEventListener('click', onRemoveNewCardToFavoriteClick);\nif (!cards) {\n  favoriteList.innerHTML = renderEmptyMarkup();\n}\n\nfunction renderMarkup() {\n  if (cards) {\n    favoriteList.insertAdjacentHTML(\n      'afterbegin',\n      cards.map(card => `<li class=\"new__card\">${card.newsCard}</li>`).join('')\n    );\n  }\n  setEventAfterRead();\n}\n\nrenderMarkup();\n\nfunction onRemoveNewCardToFavoriteClick(event) {\n  readMoreClick(event);\n  if (\n    event.target.tagName !== 'SPAN' &&\n    event.target.tagName !== 'BUTTON' &&\n    event.target.tagName !== 'svg' &&\n    event.target.tagName !== 'path' &&\n    event.target.tagName !== 'use'\n  ) {\n    return;\n  }\n  const arreyCard = JSON.parse(localStorage.getItem('newsCard'))\n    ? [...JSON.parse(localStorage.getItem('newsCard'))]\n    : [];\n\n  const linkNewReadCard = event.target\n    .closest('.new__card')\n    .querySelector('.news__link');\n\n  if (arreyCard.length !== 0) {\n    localStorage.removeItem('newsCard');\n    const arreyCardSecond = [];\n    arreyCard.map(item => {\n      if (item.newsCard.includes(linkNewReadCard)) {\n        return;\n      } else {\n        if (item) {\n          arreyCardSecond.push({ ...item });\n        }\n      }\n    });\n\n    if (arreyCardSecond.length !== 0) {\n      localStorage.setItem('newsCard', JSON.stringify(arreyCardSecond));\n      favoriteList.innerHTML = null;\n      favoriteList.insertAdjacentHTML(\n        'afterbegin',\n        arreyCardSecond\n          .map(item => `<li class=\"new__card\">${item.newsCard}</li>`)\n          .join('')\n      );\n      setEventAfterRead();\n    } else {\n      favoriteList.innerHTML = renderEmptyMarkup();\n    }\n    return;\n  }\n}\n","const linkReadMoreNews = document.querySelector('.news');\nif (\n  window.location.pathname === '/index.html' ||\n  window.location.pathname === '/NewsApp/' ||\n  window.location.pathname === '/' ||\n  window.location.pathname === '/NewsApp/index.html'\n) {\nlinkReadMoreNews.addEventListener('click', readMoreClick);\n}\n\n\nexport function readMoreClick(event) {\n  const arreyReadCard = JSON.parse(localStorage.getItem('newsReadMore'))\n    ? [...JSON.parse(localStorage.getItem('newsReadMore'))]\n    : [];\n\n  if (event.target.tagName !== 'A') {\n    return;\n  }\n\n  const linkNewReadCard = event.target\n    .closest('.new__card')\n    .querySelector('.news__link');\n\n  let newsReadMoreCard = event.target.closest('.new__card').innerHTML;\n  if (arreyReadCard.length !== 0) {\n    arreyReadCard.map(item => {\n      if (item.newsReadMoreCard.includes(linkNewReadCard)) {\n        newsReadMoreCard = null;\n        return false;\n      }\n    });\n  }\n\n  if (newsReadMoreCard) {\n    arreyReadCard.push({ newsReadMoreCard });\n    localStorage.setItem('newsReadMore', JSON.stringify(arreyReadCard));\n  }\n}\n"],"names":["$drJjU","parcelRequire","$b385c2926891d707$var$linkReadMoreNews","document","querySelector","$b385c2926891d707$export$2709a8fff411b736","event","arreyReadCard","JSON","parse","localStorage","getItem","target","tagName","linkNewReadCard","closest","newsReadMoreCard","innerHTML","length","map","item","includes","push","setItem","stringify","window","location","pathname","addEventListener","$23c5e8ae529a0de1$var$favoriteList","$23c5e8ae529a0de1$var$cards","arreyCard","removeItem","arreyCardSecond","newsCard","insertAdjacentHTML","join","$1n11p","setEventAfterRead","renderEmptyMarkup","card"],"version":3,"file":"favorite.2a46929e.js.map"}